#!/bin/sh

#=========================================================================
# GNU date / BSD dateコマンドラッパー
#=========================================================================

#=========================================================================
# dateコマンドパス
#=========================================================================
selfpath=$(realpath $0)
systemcmd=$(which -a date | grep -v "$selfpath" | head -1)

#=========================================================================
# プラットフォームごとに処理を分岐
#=========================================================================
case "$(uname)" in
MSYS*)
	# 引数に-vがある場合はBSD dateを、そうでない場合はGNU dateを実行する
	if echo "$@" | grep -- '-v' > /dev/null 2>&1
	then
		exec bsddate "$@"
	else
		exec /usr/bin/date "$@"
	fi
	;;
*)
	exec "$systemcmd" "$@"
	;;
esac

